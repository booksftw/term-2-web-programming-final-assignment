<!-- index.ejs -->
<%- include("partials/header"); %>

  <h1>Movies</h1> <!-- Heading for the page -->
  <% movies.forEach((movie)=> { %> <!-- Loop through the list of movies -->
    <h2>
      <%= movie.title %>
    </h2> <!-- Movie title -->
    <p>
      <%= movie.plot %>
    </p> <!-- Movie plot summary -->
    <ul>
      <% movie.genres.forEach((genre)=> { %> <!-- Loop through the movie's genres -->
        <li>
          <%= genre %>
        </li> <!-- Display each genre in a list item -->
        <% }) %>
    </ul>
    <p>Runtime: <%= movie.runtime %> minutes</p> <!-- Movie runtime in minutes -->
    <p>Rated: <%= movie.rated %>
    </p> <!-- Movie rating -->
    <% if (movie.released) { %> <!-- Check if the movie's release date is defined -->
      <p>Released: <%= movie.released.toDateString() %>
      </p> <!-- Movie release date -->
      <% } %>
        <p>Countries: <%= movie.countries.join(', ') %></p> <!-- List of countries where the movie was produced -->
  <% }) %>

  
  <!--Pagination-->
  <div class="pagination">
    <% if (page > 1) { %>
      <a href="/search?page=<%= page - 1 %>&pageSize=<%= pageSize %>&filter2=<%= filter2 %>&filter1=<%= filter1 %>&query=<%=query %>">Previous</a>
    <% } %>
    <% if (hasNextPage) { %>
      <a href="/search?page=<%= page + 1 %>&pageSize=<%= pageSize %>&filter2=<%= filter2 %>&filter1=<%= filter1 %>&query=<%=query %>">Next</a>
    <% } %>
    <!-- <a href="/search?page=<%= page - 1 %>&pageSize=<%= pageSize %>">Previous</a> -->
      <!-- <a href="/search?page=<%= page + 1 %>&pageSize=<%= pageSize %>">Next</a> -->
  </div>
  <h1>Testing</h1>
    <%- include("partials/footer"); %>