<!-- index.ejs -->
<%- include("partials/header"); %>

<h1 class="text-2xl ml-32 mb-10 mt-10">Movies Results</h1>
<!-- Heading for the page -->

<div class="flex justify-center flex-wrap gap-5">
<% movies.forEach((movie)=> { %>
  <div
    class="inline-block max-w-sm p-6 bg-slate-200 border border-gray-200 rounded-lg shadow
    drop-shadow-2xl hover:bg-gray-100 cursor-pointer"
  >
    <!-- Loop through the list of movies -->
    <h2 class="mb-3 text-xl text-indigo-500 font-bold"><%= movie.title %></h2>
    <!-- Movie title -->
    <p class="mb-3"><%= movie.plot %></p>
    <!-- Movie plot summary -->
    <ul>
      <% movie.genres.forEach((genre)=> { %>
      <!-- Loop through the movie's genres -->
      <li><%= genre %></li>
      <!-- Display each genre in a list item -->
      <% }) %>
    </ul>
    <p>Runtime: <%= movie.runtime %> minutes</p>
    <!-- Movie runtime in minutes -->
    <p>Rated: <%= movie.rated %></p>
    <!-- Movie rating -->
    <% if (movie.released) { %>
    <!-- Check if the movie's release date is defined -->
    <p>Released: <%= movie.released.toDateString() %></p>
    <!-- Movie release date -->
    <% } %>
    <p>Countries: <%= movie.countries.join(', ') %></p>
    <!-- List of countries where the movie was produced -->
  </div>
  <% }) %>
</div>

<!--Pagination-->
<div class="pagination block text-center mt-10">
  <% if (page > 1) { %>
  <a class="text-2xl middle none center rounded-lg bg-pink-500 py-3 px-6 font-sans font-bold uppercase
  text-white shadow-md shadow-pink-500/20 transition-all hover:shadow-lg hover:shadow-pink-500/40
   focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none
    disabled:opacity-50 disabled:shadow-none"
    href="/search?page=<%= page - 1 %>&pageSize=<%= pageSize %>&filter2=<%= filter2 %>&filter1=<%= filter1 %>&query=<%=query %>"
    >Previous</a
  >
  <% } %> <% if (hasNextPage) { %>

  <a class="text-2xl middle none center rounded-lg bg-pink-500 py-3 px-6 font-sans font-bold uppercase
  text-white shadow-md shadow-pink-500/20 transition-all hover:shadow-lg hover:shadow-pink-500/40
   focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none
    disabled:opacity-50 disabled:shadow-none"
  href="/search?page=<%= page + 1 %>&pageSize=<%= pageSize %>&filter2=<%= filter2 %>&filter1=<%= filter1 %>&query=<%=query %>"
  >Next</a>
  
  
  <% } %>
  <!-- <a href="/search?page=<%= page - 1 %>&pageSize=<%= pageSize %>">Previous</a> -->
  <!-- <a href="/search?page=<%= page + 1 %>&pageSize=<%= pageSize %>">Next</a> -->
</div>
<%- include("partials/footer"); %>
